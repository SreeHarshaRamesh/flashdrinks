<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="{{::bar.name}}">

  <!--Header-->
  <ion-nav-buttons side="right">
    <button class="button icon-left" ng-class="{'button-assertive ion-thumbsdown': bar.sync.members[user.$id], 'button-balanced ion-thumbsup': !bar.sync.members[user.$id]}" ng-click="Bars.opt(bar)">
      {{bar.sync.members[user.$id] ? "Not Coming" : "Coming"}}
    </button>
    <button class="button icon ion-person-add" ng-controller="InviteFriendsCtrl" ng-click="openModal()"></button>
  </ion-nav-buttons>

  <!--Content-->
  <ion-content class="padding">
    <img ng-src="{{::bar.image_url}}" style="width: 80px; height: 80px" />
    <p>{{::bar.snippet_text}}</p>
    <div ng-if="bar.sync.count>0">
      <span class="badge badge-assertive">{{bar.sync.count}}</span> people coming.
    </div>
    <chat-list chat-id="bar.id"></chat-list>
  </ion-content>

  <ion-footer-bar />

</ion-view>
